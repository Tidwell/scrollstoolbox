"use strict";angular.module("scrollstoolboxApp",[]).config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!0),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/account",{templateUrl:"views/account.html",controller:"AccountCtrl"}).when("/forgot-password",{templateUrl:"views/forgot-password.html",controller:"ForgotPasswordCtrl"}).when("/links",{templateUrl:"views/links.html",controller:"LinksCtrl"}).when("/faq",{templateUrl:"views/faq.html",controller:"FaqCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("scrollstoolboxApp").controller("MainCtrl",function(){}),angular.module("scrollstoolboxApp").controller("LinksCtrl",["$scope",function(a){a.links={prices:[{title:"Scrolls Trading Bulletin",url:"http://trading.scrolls.pw/",description:"Price checking and card information, generated from in-game bot"},{title:"Scrolls PC",url:"http://scrollspc.com/",description:"Price checking, price voting, historical price charts"},{title:"Scrolls Prices",url:"http://scrollsprices.com/",description:"Price checking"}],trading:[{title:"Scrolls Swap",url:"http://scrollswap.com/",description:"Post buy/sell/trade requests"},{title:"FastTrade",url:"http://scrollspc.com/fasttrade/index.php",description:"Made by ScrollsPC, post buy/sell requests"},{title:"TradingScrolls",url:"http://www.tradingscrolls.com/",description:"Post buy/sell/trade requests"}],deckbuilders:[{title:"Scrolls Guide Deckbuilder",url:"http://www.scrollsguide.com/deckbuilder/",description:"Sorting, Drag and Drop, Card Browser, Filters, Saving (account required)"},{title:"Famous Frames Deckbuilder",url:"http://scrolls.famousframes.de/",description:"Sorting, Search, Card Browser, Full-Card Visual Deckview, Sharing & Saving, Decks Browser, Commenting"}],official:[],fansites:[],lists:[{title:"Scrolls Guide Wiki Database",url:"http://www.scrollsguide.com/wiki/index.php/Scrolls_Database",description:"Browse all cards, Sorting, includes removed and upcomming cards."},{title:"Scrolls.Me Library",url:"http://library.scrolls.me/",description:"Browse all cards, Filters"},{title:"Visual Card Spoiler",url:"http://www.morosanmihail.com/home/scrolls-cards",description:"Browse images of all cards, Filters"}],misc:[{title:"Scrolls Guide Card Maker",url:"http://www.scrollsguide.com/designer",description:"Create custom cards"}],developers:[{title:"ScrollsGuide API",url:"http://www.reddit.com/r/Scrolls/comments/1ge2wj/full_scrolls_sqldb_or_spreatsheet/caje1f3",description:"Reddit thread for how to request ScrollsGuide API acess"},{title:"Scrolls Trading Bulletin API",url:"http://www.reddit.com/r/Scrolls/comments/1gqzg9/scrolls_trading_sites_comparisonaverage_in_json/can6dge",description:"Reddit thread detailing Scrolls Trading Bulletin API"}]}}]),angular.module("scrollstoolboxApp").controller("NavCtrl",["$scope","$location","user","socket",function(a,b,c,d){function e(){a.username="",a.password=""}a.user=c.get(),a.username="",a.password="",a.$watch("user.authed",function(){a.user.authed&&e()}),d.on("user:updated",function(){a.userUpdated=!0}),a.clearUpdated=function(){a.userUpdated=!1},a.login=function(){a.user=c.login({username:a.username,password:a.password})},a.register=function(){a.user=c.register({username:a.username,password:a.password})},a.logout=function(){a.user=c.logout()},a.navClass=function(a){var c=b.path().substring(1)||"home";return a===c?"active":""}}]),angular.module("scrollstoolboxApp").service("user",["$http","$rootScope","socket",function(a,b,c){function d(a){console.log(a);for(var b in a)g[b]=a[b]}var e={error:!1,authed:!1},f="",g=angular.copy(e);return c.on("user:error",function(a){g.error=a.error}),c.on("user:registered",d),c.on("user:updated",d),c.on("user:login",d),{get:function(){return g},login:function(a){return g.error=!1,c.emit("user:login",a),f=a.password,g},register:function(a){return g.error=!1,c.emit("user:register",a),f=a.password,g},forgotPassword:function(a){return c.emit("user:forgot-password",{email:a}),g},logout:function(){return c.emit("user:logout",{username:g.username,password:f}),g.username="",g.authed=!1,f="",g},update:function(){c.emit("user:update",{inGameName:g.inGameName,email:g.email,username:g.username,password:f,newPassword:g.password}),g.password&&(f=g.password)},getPassword:function(){return f}}}]),angular.module("scrollstoolboxApp").service("socket",["$rootScope",function(a){var b;return b="undefined"!=typeof io?io.connect():{on:function(){},emit:function(){}},{on:function(c,d){b.on(c,function(){var c=arguments;a.$apply(function(){d.apply(b,c)})})},emit:function(c,d,e){b.emit(c,d,function(){var c=arguments;a.$apply(function(){e&&e.apply(b,c)})})}}}]),angular.module("scrollstoolboxApp").controller("AccountCtrl",["$scope","$location","user",function(a,b,c){a.user=c.get(),a.$watch("user.authed",function(){a.user.authed||b.path("/")}),a.$watch("user.email",function(){a.emailEdited=a.user.email}),a.$watch("user.inGameName",function(){a.inGameNameEdited=a.user.inGameName}),a.edit=function(b){a[b+"Editing"]=!0},a.close=function(b){a[b+"Editing"]=!1,a[b+"Edited"]=a.user[b]},a.save=function(b){a.user[b]=a[b+"Edited"],c.update(),a.close(b)}}]),angular.module("scrollstoolboxApp").controller("ForgotPasswordCtrl",["$scope","$location","user",function(a,b,c){a.user=c.get(),a.$watch("user.authed",function(){a.user.authed&&b.path("/account")}),a.email="",a.resetPassword=function(){a.user=c.forgotPassword(a.email)}}]),angular.module("scrollstoolboxApp").controller("FaqCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);